<!DOCTYPE html>
<html lang="en">
<head>
    <title>SRS document</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../style.css" />
</head>

<body>
	<h1>Requirements</h1>
	<hr>
	<h2><a name="ct">Table of contents</a></h2>
	<ol>
	  	<li><a href="#fr">Functional Requirements</a></li>
	  	<li><a href="#eir">External Interface Requirements</a>
	  		<ol>
	  			<li><a href="#ui">User Interfaces</a></li>
	  			<li><a href="#hi">Hardware Interfaces</a></li>
	  			<li><a href="#si">Software Interfaces</a></li>
	  			<li><a href="#ci">Communications Interfaces</a></li>
	  		</ol>
	  	</li>
	 	<li><a href="#performance">Performance Requirements</a></li>
	  	<li><a href="#design">Design Constraints</a>
			<ol>
				<li><a href="#hl">Hardware Limitations</a></li>
			</ol>
		</li>
	</ol>
	<hr>
	<div>
		<h2><a name="fr">Functional Requirements</a></h2>
		<p>Система должна проверять количество картинок, которые запросил пользователь и возвращать код ошибки 400, если оно превышает разумные пределы.</p>
		<p>Так как взаимодействие происходит через единственный URL запрос без агрегации пользовательских данных, то проверок на правильность данных не потребуется, как и на корректность последовательности действий.</p>
		<p>Во время работы сервиса могут возникнуть ошибки, о чем он должен сообщить пользователю кодом ошибки 500.</p>
		<p>Сервис не предусматривает форм обратной связи, а здоровье сервиса отслеживается метриками работоспособности сервиса.</p>
	</div>
	<div>
		<h2><a name="eir">External Interface Requirements</a></h2>
		<div>
			<h3><a name="ui">User Interface</a></h3>
			<p>Пользовательским интерфейсом выступает браузер (или командная строка для продвинутых пользователей). Дополнительных требований к взаимодействию между пользователем и интерфейсом помимо тех, которые есть у стандартных браузеров, нет.</p>
		</div>
		<div>
			<h3><a name="hi">Hardware Interface</a></h3>
			<p>Интерфейсом выступает PC или мобильное устройство.</p>
		</div>
		<div>
			<h3><a name="si">Software Interfaces</a></h3>
			<p>Интерфейсом выступает браузер и ОС пользователя, которые нужны для сохранения архива с картинками.</p>
		</div>
		<div>
			<h3><a name="ci">Communications Interfaces</a></h3>
			<p>Стандартный способ взаимодействия с веб-сервисом - браузер. Взаимодействие между этим сервисом и браузером происходит по протоколу HTTP 1.2 (не HTTP 2.0, чтобы поддерживать старые устройства, версии браузеров и библиотек)</p>
		</div>
	</div>
	<div>
		<h2><a name="performance">Performance Requirements</a></h2>
		<p>Мы оцениваем число пользователей сервиса как 1.000.000, так как сообщается, что у популярного сервиса OpenSea чуть более 1 миллиона пользователей [2]. Мы рассчитываем, что отдельный пользователь будет использовать сервис часто в короткий промежуток времени. Например, 30 запросов подряд в один день (примерно столько дается пользователю-новичку на платформе DALL-E-2 [3]), но после этого дня пользователь более недели не будет возвращаться к сервису. Поэтому максимальное количество запросов, которые может обрабатывать сервисом одновременно (пропускная способность) - 10.</p>
		<p>95% запросов должны обрабатываться менее чем за 5 секунд. Речь идет о времени от запроса пользователя до начала получения архива с картинками. Гарантии на время скачивания связаны со скоростью интернет-соединения пользователя.</p>
		<p>Тип входной информации, которую обрабатывает сервис - HTTP запросы типа GET (пользовательские данные не храним, поэтому этого вида достаточно).</p>
	</div>
	<div>
		<h2><a name="design">Design Constraints</a></h2>
		<p>Дизайн системы изображен на картинке ниже.</p>
		<img src="../design.png">
		<p>Сервис состоит из машин обработки запросов, машин раздачи файлов конфигурации, машин балансировки нагрузки, БД с логами, а также машины агрегации метрик функционирования сервиса.</p>
		<p>Преимущества дизайна:</p>
		<ul>
			<li>Простая масштабируемость</li>
			<li>Просто добиться единственности версии файлов конфигурации</li>
		</ul>
		<p>Недостатки дизайна:</p>
		<ul>
			<li>Каждая машина раздачи файлов конфигурации должна выдерживать двойную нагрузку при выкатке новой версии файлов конфигурации</li>
			<li>Нет агрегации пользовательских данных, то есть нельзя сделать индивидуальный ответ на запрос</li>
		</ul>
		<div>
			<h3><a name="hl">Hardware Limitations</a></h3>
			<p>Сервис использует аппараты Yandex Cloud с 8 ГБ ОЗУ и 100% CPU Intel Ice Lake.</p>
		</div>
	</div>
	<hr>
	<div>
		<a href="../index.html#maintable">К содержанию</a>
	</div>
</body>